<div class="p-6 bg-gray-100 min-h-screen">
    <!-- Encabezado -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
        <h1 class="text-2xl bg-white shadow rounded px-5 py-3 font-bold text-gray-800">Bienvenido {{nombre}}</h1>
    </div>

    <!-- Contenido Principal -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <!-- Columna Izquierda -->
        <div class="col-span-1 space-y-6">
            <!-- Nueva Tabla con Estadísticas -->
            <div class="bg-white shadow rounded p-6">
                <h2 class="text-lg font-semibold text-gray-700 mb-6">Estadísticas de Prácticas</h2>
                <table class="min-w-full table-auto border-collapse">
                    <thead>
                        <tr class="border-b">
                            <th class="py-3 px-6 text-left text-gray-600">Cantidad</th>
                            <th class="py-3 px-6 text-left text-gray-600">Categoría</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Cantidad de Estudiantes en Práctica -->
                        <tr class="border-b border-t hover:bg-gray-50">
                            <td class="py-3 text-center border-r px-6 text-gray-600">{{ estadisticasPractica.estudiantes_practica }}</td>
                            <td class="py-3 px-6 text-gray-700 font-medium">Estudiantes en Práctica</td>
                        </tr>
                        <!-- Cantidad de Estudiantes en Revisión -->
                        <tr class="border-b border-t hover:bg-gray-50">
                            <td class="py-3 text-center border-r px-6 text-gray-600">{{ estadisticasPractica.estudiantes_revision }}</td>
                            <td class="py-3 px-6 text-gray-700 font-medium">Estudiantes en Revisión</td>
                        </tr>
                        <!-- Estudiantes sin Calificar -->
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 text-center border-r px-6 text-gray-600">{{ estadisticasPractica.informes_sin_enviar }}</td>
                            <td class="py-3 px-6 text-gray-700 font-medium">Estudiantes sin Calificar</td>
                        </tr>
                        <!-- Cantidad maxima de informes -->
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 text-center border-r px-6 text-gray-600">{{ estadisticasPractica.max_informes }}</td>
                            <td class="py-3 px-6 text-gray-700 font-medium">Cantidad máxima de informes</td>
                        </tr>
                        <!-- Carga Docente -->
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 text-center border-r px-6 text-gray-600">{{ estadisticasPractica.total_asignados > estadisticasPractica.max_informes? estadisticasPractica.total_asignados - estadisticasPractica.max_informes : 0 }}</td>
                            <td class="py-3 px-6 text-gray-700 font-medium">Sobrecarga Docente</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Gráfico de Barras: Cantidad de Prácticas por Mes -->
            <div class="bg-white shadow rounded p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-4">Prácticas por Mes</h2>
                <p-chart 
                    [data]="mesChartData" 
                    [options]="mesChartOptions" 
                    [type]="'bar'"
                    height="300px">
                </p-chart>
            </div>

        </div>

        <!-- Estadísticas, Gráficos y Detalles -->
        <div class="col-span-3 grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Gráfico de la Cantidad de Estudiantes por Tipo de Práctica -->
            <div class="col-span-1 bg-white shadow rounded p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-2">Cantidad de Estudiantes por Tipo de Práctica</h2>
                <p-chart
                    [data]="cantidadEstudiantesTipoPracticaChartData"
                    [options]="cantidadEstudiantesTipoPracticaChartOptions"
                    [type]="'doughnut'"
                    height="230px">
                </p-chart>
            </div>

            <!-- Gráfico de Aprobados y Reprobados Práctica I -->
            <div class="col-span-1 bg-white shadow rounded p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-2">Aprobados/Reprobados Práctica I</h2>
                <p-chart
                    [data]="practicaIChartData"
                    [options]="practicaIChartOptions"
                    [type]="'doughnut'"
                    height="230px">
                </p-chart>
            </div>

            <!-- Gráfico de Aprobados y Reprobados Práctica II -->
            <div class="col-span-1 bg-white shadow rounded p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-2">Aprobados/Reprobados Práctica II</h2>
                <p-chart
                    [data]="practicaIIChartData"
                    [options]="practicaIIChartOptions"
                    [type]="'doughnut'"
                    height="230px">
                </p-chart>
            </div>

            <!-- Gráfico de la Percepción de las Empresas -->
            <div class="col-span-1 bg-white shadow rounded p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-2">Percepción de Empresas</h2>
                <p-chart
                    [data]="percepcionEmpresasChartData"
                    [options]="percepcionEmpresasChartOptions"
                    [type]="'doughnut'"
                    height="230px">
                </p-chart>
            </div>

            <!-- Gráfico de Carga Laboral Elevada -->
            <div class="col-span-1 bg-white shadow rounded p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-2">Carga Docente</h2>
                <p-chart
                    [data]="academicosCargaLaboralElevadaChartData"
                    [options]="academicosCargaLaboralElevadaChartOptions"
                    [type]="'doughnut'"
                    height="230px">
                </p-chart>
            </div>


            <!-- Tabla de Detalles de Informes -->
            <div class="col-span-3 bg-white shadow rounded p-6">
                <h2 class="text-lg font-semibold text-gray-700 mb-4">Detalles de Prácticas</h2>
                <p-table [value]="detalleInformes" [paginator]="true" [rows]="5">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Alumno</th>
                            <th>Práctica</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-informe>
                        <tr>
                            <td>{{ informe.alumno }}</td>
                            <td>{{ informe.nombre }}</td>
                            <td>
                                <span [ngClass]="{
                                    'text-green-600': informe.estado === 'Finalizado',
                                    'text-red-600': informe.estado === 'Cursando'
                                }">
                                    {{ informe.estado }}
                                </span>
                            </td>
                            <td>
                                <button pButton label="Ver" class="p-button-text" (click)="verInforme(informe)"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>
